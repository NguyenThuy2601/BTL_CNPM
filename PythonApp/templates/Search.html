{% extends 'layout/base.html' %}

{% block content %}

<div class="container">
    <nav class="navbar navbar-expand-sm bg-light navbar-light">
        <div class="container-fluid" style="justify-content: space-evenly; flex-grow: 1;">
            <form class="d-flex">
                <ul class="navbar-nav">
                    <li class="nav-item" style="padding-right: 3%">
                        <label class="form-label"> Nơi đi </label>
                        <input class="form-control" list="departureOption" id="departure" required
                               placeholder="Nhập vào nơi đi..." name="departure">
                        <datalist id="departureOption">
                            {% for l in location%}
                            <option value="{{l.location}}"/>
                            {% endfor %}
                        </datalist>
                    </li>
                    <li class="nav-item" style="padding-right: 3%">
                        <label class="form-label"> Nơi đến </label>
                        <input class="form-control" list="destinationOption" id="destination" required
                               placeholder="Nhập vào nơi đến..." name="destination">
                        <datalist id="destinationOption">
                            {% for l in location%}
                            <option value="{{l.location}}"/>
                            {% endfor %}
                        </datalist>
                    </li>
                    <li class="nav-item" style="padding-right: 3%">
                        <label for="startDate" style="padding-bottom: 4%">Ngày đi</label>
                        <input id="startDate" class="form-control" type="date" name="date"/>
                    </li>
                    <li class="nav-item">
                        <br>
                        <button class="btn btn-primary" type="submit" style="margin-top: 7%">Tìm</button>
                    </li>
                </ul>
            </form>
        </div>
    </nav>
    <div class="container">
        {% if flight %}
        {% for f in flight %}
        <div class="card bg-success text-white" style="margin-top: 3%">
            <div class="card-body">{{f.id}}</div>
            <div class="card-body">{{f.airroute}}</div>
            <div class="card-body">{{ "{:,.1f}".format(f.ticketprice.Sprice)  }} VND+</div>
            <div class="card-body"> {{f.schedule[0].time}}</div>
            <div class="card-body">
                <a href="/flight/{{f.id}}" class="btn btn-primary">Đặt vé</a>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="card bg-danger text-white">
            <div class="card-body">Không có chuyến</div>
        </div>
        {% endif %}
    </div>
</div>


{% endblock %}